<html>

<head>
  <title>Wallet</title>
  <link rel="stylesheet" href="css/spux.css" />
  <script type="application/ld+json" src="./wallet.json" id="data"></script>
</head>

<body>
  <script type="module">
    import { html, render } from './js/spux.js'
    import Navbar from './components/Navbar.js'

    var wallet

    fetch('./wallet.json')
      .then(response => response.json())
      .then(obj => {
        wallet = obj
        renderAll()
      })

    function renderAll() {
      render(
        html`
            <${Navbar} title="Wallet" />

            <table>
              <tr>
                <th>Name</th>
                <th>Currency</th>
                <th>Ledger</th>
                <th>Credits</th>
              </tr>
              <tr>
                <td>${wallet.name}</td>
                <td>${wallet.currency}</td>
                <td>
                  <a href="${wallet.webledger.replace('json', 'html')}"
                    >${wallet.webledger.replace('json', 'html')}</a
                  >
                </td>
                <td>
                  <a href="${wallet.webcredits.replace('json', 'html')}"
                    >${wallet.webcredits.replace('json', 'html')}</a
                  >
                </td>
              </tr>
            </table>
          `,
        document.body
      )
    }
  </script>
</body>

</html>